<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <script type="text/javascript">
    // Functions are objects
    function a (x, y) {
      if (a[x]) {
        return `I don't add ${x} anymore`;
      }
      a[x] = true;

      return x + y;
    }
    a(5, 1);
    a(5, 2);
    a.of = (x, y) => a(x, y);
    a.of(6, 3);

    'hasOwnProperty' in a;


    // Passed
    function run(x, y, cb) {
      return cb(x, y);
    }
    run(5, 6, a);

    // Returned
    function make () {
      return function add(x, y) { return x + y; }
    }
    const add = make();
    add(1, 2);


    // Closure
    function sum(x) {
      return function (y) {
        return x + y;
      }
    }
    var add5 = sum(5);
    add5(10); // 15


    // consider the humble counter
    function counter() {
      let i = 0;
      return function increment() {
        return ++i;
      };
    }

    var a = counter();
    var b = counter();

    // Solve real world problem
    function getPage(pageType, slug) {
      // return a promise of an api query
    }

    getPage('retailer_kiosk_page', *);

    getRetailerPage(*) {
      return getPage('retailer_kiosk_page', *);
    }

    // Example that show a patttern
    function trimTrailingSlash(string) {
      return string.replace(/\/$/, '');
    }

    function trimLeadingSlash(string) {
      return string.replace(/^\//, '');
    }

    // Pattern sum, getRetailerPage, trimLeadingSlash, trimTrailingSlash
    // all functions that take a single argument and return the result of
    // applying a function to it

    // Time for an abstaction
    getRetailerPage.bind(null, 'retailer_kiosk_page');

    // bind is ugly
    function getPage(pageType, slug) {...}

    // in fp "this" is a four letter word
  </script>
</body>
</html>
